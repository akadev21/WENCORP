<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Majesty Project Form View -->
    <record id="view_majesty_commercial_project_form" model="ir.ui.view">
        <field name="name">majesty.projects.commercial.form</field>
        <field name="model">majesty.project</field>
        <field name="arch" type="xml">


            <form>
                <header>
                    <field name="state_commercial" widget="statusbar"/>

                </header>
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="reference"/>
                        <field name="client_id"/>
                        <field name="ref_devis" widget="binary" filename="ref_devis_filename"/>
                        <field name="ref_devis_filename" invisible="1"/>
                        <field name="designer"/>
                        <field name="designer_assign_date"/>
                        <field name="description"/>
                        <field name="comment"/>
                    </group>
                    <notebook>
                        <page string="Documents-Projet">
                            <field name="document_ids">
                                <tree editable="bottom">
                                    <field name="document_name"/>
                                    <field name="document_binary" widget="binary" filename="document_name"/>
                                </tree>
                            </field>
                        </page>
                        <!-- Tab for Products -->
                        <page string="Liste des Articles">
                            <field name="product_ids">
                                <tree editable="bottom">
                                    <field name="product_tmpl_id"/>
                                    <field name="quantity"/>
                                    <field name="gender"/>
                                    <field name="customizable"/>
                                    <field name="description"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <!-- Tab for Documents -->

                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>
    <record id="view_majesty_commercial_project_tree" model="ir.ui.view">
        <field name="name">majesty.project.commercial.tree</field>
        <field name="model">majesty.project</field>
        <field name="arch" type="xml">
            <!-- Add fields before and after the display_name field -->
            <tree>
                <field name="reference"/>
                <field name="name"/>
                <field name="client_id"/>
                <field name="creation_date"/>
                <field name="state_commercial"/>

                <!-- Hide unnecessary fields -->
            </tree>
        </field>


    </record>
    <!-- Action for the menu -->
    <record id="action_majesty_project" model="ir.actions.act_window">
        <field name="name">Projets</field>
        <field name="res_model">majesty.project</field>
        <field name="view_mode">tree,kanban,form</field>
    </record>

    <!-- Menu for Majesty Projects -->
    <menuitem id="menu_majesty_commercial_project"
              name="Projets"
              action="action_majesty_project"
              parent="menu_root_commercial"
              sequence="1"/>

    <!-- Sequence for project reference -->
    <record id="seq_project_reference_fix_new" model="ir.sequence">
        <field name="name">Project Reference</field>
        <field name="code">project.reference_fix_new</field>
        <field name="prefix">PRO-%(year)s%(month)s%(day)s-</field>
        <field name="padding">4</field>
        <field name="number_next">1</field>
        <field name="implementation">standard</field>
    </record>
</odoo>
